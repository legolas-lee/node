<!DOCTYPE html>
<html ng-app="myApp">
  <head>
      <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
      <meta charset="utf-8" />
      <title>LeGolas Node CMS</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
      <meta content="Build with NodeJS and AngularJS" name="description" />
      <meta content="LeGolas" name="author" />
      <script src="resource/plugin/jquery/jquery-2.1.1.js"></script>
      <script src="resource/plugin/ionic/js/ionic.bundle.js"></script>
      <script src="resource/plugin/angular-ui-router/angular-ui-router.min.js"></script>
      <script src="resource/plugin/ocLazyLoad/ocLazyLoad.min.js"></script>
      <script src="resource/plugin/socket.io/socket.io.js"></script>
      <link rel="stylesheet" href="resource/plugin/ionic/css/ionic.min.css">
      <link rel="stylesheet" href="resource/css/public.css">
      <link rel="stylesheet" href="resource/css/parent.css">
  </head>
  <body ng-controller="parent"  ng-class="pageClass">
    <main>
        <div class="page-left scrollbar">
            <div class="nav-header">
                <strong class="text-center">LeGolas Node CMS</strong>
            </div>
            <div class="user-info clearfix">
                <div class="admin-avatar">
                    <img ng-src="{{me.data.avatar}}">
                    <div class="status online"></div>
                </div>
                <div class="info-text">
                    <div class="username" ng-bind="me.data.username"></div>
                    <div class="level">超级管理员</div>
                </div>
            </div>
           <dl class="nav">
               <dt ng-repeat="item in navData.data" ng-class="{'navOpen':navState.parrent==item.module_name,'current':navState.current==item.module_name,'submenuCloseAll':submenuCloseAll==true&&pageClass[0]=='navOff'}">
                   <a ng-click="navState.parrent=item.module_name;setClose('toggle',item.module_name)" ui-sref="{{item.module_name}}">
                       <i ng-class="item.icon"></i>
                       <span ng-bind=item.text_name></span>
                       <i ng-if="item.notice_total>0" class="dote-notice animate-flash"></i>
                       <i ng-if="item.submenu.length>0" class="more fa fa-chevron-right"></i>
                   </a>
                   <ul ng-if="item.submenu.length>0" class="submenu">
                        <li ng-repeat="menu in item.submenu">
                            <a ui-sref="{{menu.module_name}}" ng-class="{'current':navState.current==menu.module_name}" ng-click="setClose(true)">
                                <span ng-bind=menu.text_name></span>
                                <strong ng-if="menu.notice>0" class="notice" ng-bind="menu.notice"></strong>
                            </a>
                        </li>
                   </ul>
               </dt>
           </dl>
            <div class="server-info"  title="内存剩余:{{memo.free}}, 总共:{{memo.total}}, 使用率：{{memo.used}}%">
                <div class="progress">
                    <div class="progress-bar css-animate-slow" style="width:{{memo.used}}%;"></div>
                </div>
                <div class="right">
                    <div class="details-status"> <span ng-bind="serverData.data.cpu_speed.value"></span> </div>
                    <a><i class="iconfont icon-shuaxin"></i></a></div>
            </div>
        </div>
        <div class="page-row">
            <div class="page-header clearfix">
                <a class="icons float-left icon-bind-nav" ng-click="togglePageClass('nav')"><i class="fa fa-bars"></i></a>
                <a class="icons float-left icon-bind-footer" ng-click="togglePageClass('footbar')"><i class="fa fa-th-list"></i></a>
                <a class="icons float-left icon-bind-serverinfo" ui-sref="manageExtraServer"><i class="fa fa-desktop"></i></a>

                <a class="icons float-right icon-bind-message" ng-click="togglePageClass('notice')"><i class="fa fa-bell"></i><i class="dote-notice animate-flash"></i></a>
                <a class="icons float-right icon-bind-user"  ui-sref="manageSuperAccountInfo({id:'0'})"><i class="fa fa-sliders-h"></i></a>
                <div class="user-info float-right">
                    <div class="admin-avatar">
                        <img ng-src="{{me.data.avatar}}">
                    </div>
                </div>
            </div>
            <div class="page-main" style="min-height:{{widowInfo.height-60-40-20}}px" ui-view></div>
            <div class="page-right scrollbar">
                <div class="padding-10">
                    <div class="infoBox scrollbar">
                        <ul>
                            <li ng-repeat="item in infoBox track by $index">{{item.user}}：{{item.msg}}</li>
                        </ul>
                    </div>
                    <div class="inputBox">
                        <textarea ng-model="socketText" placeholder="请输入消息内容"></textarea>
                        <a class="button" ng-click="socketSend()">发送Socket</a>
                    </div>
                    <div class="inputBox m-t-20">
                        <input type="text" class="input-long" ng-model="mailContent.to" placeholder="请输入格式正确的邮件地址">
                        <input type="text" class="input-long m-t-5" ng-model="mailContent.subject" placeholder="请输入邮件标题">
                        <textarea ng-model="mailContent.text" placeholder="请输入邮件正文"></textarea>
                        <a class="button" ng-click="mailSend()">发送电子邮件</a>
                    </div>
                </div>
            </div>
            <div class="page-footer">
               <span class="display-ib p-t-10">{{ipAddr.cip}} / {{ipAddr.cname}}</span>
            </div>
        </div>
    </main>
  </body>
  <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
  <script src="controller/controller.js"></script>
  <link rel="stylesheet" href="resource/plugin/font-awesome/css/fontawesome-all.min.css"/>
</html>